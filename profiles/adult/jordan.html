<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jordan's Profile - Momentum</title>
  <link rel="stylesheet" href="Styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="../../assets/css/styles.css">
  <style>
    /* Light theme with gray containers */
    body {
      background-color: white;
    }

    .hero-section {
      background-color: #f2f2f2; /* Light gray container */
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .welcome-message {
      color: #000000; /* Black text */
      font-size: 1.5rem;
      margin-bottom: 10px;
    }

    .motivation-quote {
      color: #555555; /* Dark gray text */
      font-style: italic;
    }

    .next-workout {
      background-color: #e0e0e0; /* Slightly darker gray for inner elements */
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }

    .next-workout h3 {
      color: #000000;
      margin-top: 0;
    }

    .next-workout p {
      color: #333333;
    }

    .start-button {
      background-color: #4CAF50; /* Green button */
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }

    .goal-tracker {
      background-color: #f2f2f2; /* Light gray container */
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .goal-tracker h2 {
      color: #000000;
      margin-top: 0;
    }

    .goal-tracker p {
      color: #333333;
    }

    .progress-bar {
      height: 10px;
      background-color: #e0e0e0;
      border-radius: 5px;
      margin: 15px 0;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      background-color: #4CAF50;
      width: 65%; /* This would be dynamic based on actual progress */
    }

    .goal-options {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }

    .goal-btn {
      background-color: #333;
      border: none;
      color: white;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
    }

    .exercise-list {
      background-color: #f2f2f2;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .exercise-item {
      background-color: #e0e0e0;
      padding: 10px 15px;
      border-radius: 8px;
      margin-bottom: 10px;
      color: #000000;
    }

    .exercise-item h4 {
      margin: 0 0 5px 0;
      color: #000000;
    }

    .exercise-item p {
      margin: 0;
      font-size: 0.9rem;
      color: #555555;
    }

    /* Membership Card Styles */
    .card-container {
      perspective: 1000px;
      height: 200px;
      margin: 20px 0;
    }

    .membership-card {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s;
      cursor: pointer;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .membership-card.flipped {
      transform: rotateY(180deg);
    }

    .card-side {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
    }

    .card-front {
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      color: white;
      padding: 20px;
    }

    .card-back {
      background-color: white;
      transform: rotateY(180deg);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
    }

    .card-logo {
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .card-logo i {
      margin-right: 10px;
      font-size: 1.5rem;
    }

    .card-details {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .member-name {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .member-id, .member-since {
      font-size: 0.9rem;
      margin-bottom: 5px;
    }

    .card-instructions {
      font-size: 0.8rem;
      opacity: 0.8;
      text-align: center;
      margin-top: 25px;
    }

    .barcode-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      padding: 15px;
    }

    #barcode-placeholder {
      width: 100%;
      text-align: center;
      margin-bottom: 15px;
    }

    #barcode-image {
      max-width: 100%;
      max-height: 80px;
    }

    .barcode-instructions {
      font-size: 0.8rem;
      color: #555;
      text-align: center;
    }

    .upload-barcode-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.8rem;
      margin-top: 10px;
      cursor: pointer;
    }

    .card-flip-back {
      font-size: 0.7rem;
      color: #777;
      text-align: center;
      margin-bottom: 5px;
    }

    /* Goal Tracker - Modified for single button */
    .goal-tracker {
      background-color: #f2f2f2;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .goal-tracker h3 {
      color: #000000;
      margin-top: 0;
    }
    
    .progress-bar {
      height: 10px;
      background-color: #e0e0e0;
      border-radius: 5px;
      margin: 15px 0;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: #4CAF50;
      width: 65%;
      transition: width 0.3s ease;
    }
    
    .completion-time {
      font-size: 0.8rem;
      color: #777;
      margin-bottom: 15px;
    }
    
    /* Modal Styling */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 1001;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      position: relative;
    }
    
    .confirm-content {
      max-width: 400px;
    }
    
    .close-modal {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #777;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
    }
    
    .form-group input, .form-group select {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
    }
    
    .modal-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    .action-btn {
      background-color: #555;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background-color 0.2s;
    }
    
    .action-btn.primary {
      background-color: #4CAF50;
    }
    
    .action-btn.danger {
      background-color: #f44336;
    }
    
    #progress-value {
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div id="app">
 

    <!-- Content Area -->
    <main class="content-area">
      <section class="app-section active-section">
        <!-- Hero Section -->
        <div class="hero-section">
          <h2 class="welcome-message">Good morning, Jordan! Ready to crush today's workout?</h2>
          <p class="motivation-quote"></p>
          
          <div class="next-workout">
            <h3>Today's Workout</h3>
            <iframe width="100%" height="200" src="https://www.youtube.com/embed/1-c-yvj1XyE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <button class="start-button">START NOW</button>
          </div>
        </div>
        
        <!-- Goal Tracker -->
        <section class="goal-tracker">
          <h3>Your Goal</h3>
          <div id="current-goal">Weight Loss - 10 lbs</div>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <div class="completion-time">Estimated completion: 8 weeks</div>
          <div class="action-buttons">
            <button id="adjust-goal-btn" class="action-btn">Adjust Goal</button>
            <!-- Removed "Set New Goal" button as requested -->
          </div>
        </section>

        <!-- Gym Membership Card -->
        <div class="dashboard-card" style="margin-top: 20px;">
          <h3 style="color: #000; margin-top: 0;">Gym Membership</h3>
          
          <div class="card-container">
            <div class="membership-card" id="membership-card">
              <!-- Front of card -->
              <div class="card-side card-front">
                <div class="card-logo">
                  <i class="fas fa-dumbbell"></i>
                  <span>FITNESS CLUB</span>
                </div>
                <div class="card-details">
                  <div class="member-name"><span id="user-name-card">Walter</span></div>
                  <div class="member-id">ID: <span id="member-id">FC-1234567</span></div>
                  <div class="member-since">Member since: <span id="member-since">Jan 2023</span></div>
                  <div class="card-instructions">Tap card to show barcode</div>
                </div>
              </div>
              
              <!-- Back of card -->
              <div class="card-side card-back">
                <div class="barcode-container">
                  <div id="barcode-placeholder">
                    <!-- Barcode will be displayed here -->
                    <img id="barcode-image" src="https://bwipjs-api.metafloor.com/?bcid=code128&text=FC1234567&scale=3&includetext=true" alt="Membership Barcode">
                  </div>
                  <div class="barcode-instructions">
                    <p>Show this barcode at the gym entrance</p>
                    <button class="upload-barcode-btn" id="upload-barcode-btn">
                      <i class="fas fa-upload"></i> Upload Your Barcode
                    </button>
                    <input type="file" id="barcode-input" accept="image/*" style="display: none;">
                  </div>
                </div>
                <div class="card-flip-back">Tap to flip back</div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="../../index.html" class="nav-button">
        <i class="nav-icon fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="dashboard.html" class="nav-button">
        <i class="nav-icon fas fa-chart-line"></i>
        <span>Dashboard</span>
      </a>
      <a href="workouts.html" class="nav-button">
        <i class="nav-icon fas fa-dumbbell"></i>
        <span>Workouts</span>
      </a>
      <a href="recipes.html" class="nav-button">
        <i class="nav-icon fas fa-utensils"></i>
        <span>Recipes</span>
      </a>
      <a href="videos.html" class="nav-button">
        <i class="nav-icon fas fa-video"></i>
        <span>Videos</span>
      </a>
    </nav>
  </div>
  <script src="../../assets/js/fitness.js"></script>
  <script>
    // Setup the membership card
    document.addEventListener('DOMContentLoaded', function() {
      // Set up the membership card
      setupMembershipCard();
    });

    function setupMembershipCard() {
      // Get the current user
      const currentUser = localStorage.getItem('currentUser') || 'Walter';
      document.getElementById('user-name-card').textContent = currentUser;
      
      // Set membership ID (you could store this in localStorage too)
      const memberID = localStorage.getItem('memberID_' + currentUser) || 'FC-1234567';
      document.getElementById('member-id').textContent = memberID;
      
      // Set member since date
      const memberSince = localStorage.getItem('memberSince_' + currentUser) || 'Jan 2023';
      document.getElementById('member-since').textContent = memberSince;
      
      // Load custom barcode if exists
      const customBarcode = localStorage.getItem('barcodeImage_' + currentUser);
      if (customBarcode) {
        document.getElementById('barcode-image').src = customBarcode;
      } else {
        // Generate a barcode using bwipjs API (or you could use any barcode API)
        // This creates a Code 128 barcode with the member ID
        const barcodeText = memberID.replace(/\D/g, ''); // Remove non-digits
        document.getElementById('barcode-image').src = 
          `https://bwipjs-api.metafloor.com/?bcid=code128&text=${barcodeText}&scale=3&includetext=true`;
      }
      
      // Set up card flip
      const membershipCard = document.getElementById('membership-card');
      membershipCard.addEventListener('click', function() {
        this.classList.toggle('flipped');
      });
      
      // Set up barcode upload
      const uploadBtn = document.getElementById('upload-barcode-btn');
      const barcodeInput = document.getElementById('barcode-input');
      
      uploadBtn.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent card flip when clicking the button
        barcodeInput.click();
      });
      
      barcodeInput.addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
            const imgData = e.target.result;
            document.getElementById('barcode-image').src = imgData;
            localStorage.setItem('barcodeImage_' + currentUser, imgData);
          };
          reader.readAsDataURL(file);
        }
      });
    }
  </script>
  <!-- Add this right before the closing </body>
  
  <!-- Bottom Navigation -->
  <script src="../../assets/js/navigation.js"></script>
  <script>
    // Insert navigation for adult user, with "home" active, for user "jordan"
    insertNavigation('adult', 'home', 'jordan');
  </script>

  <!-- Goal Adjustment Modal -->
  <div id="goal-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Adjust Your Goal</h2>
      
      <div class="form-group">
        <label for="goal-description">Goal Description:</label>
        <input type="text" id="goal-description" placeholder="e.g., Weight Loss - 10 lbs">
      </div>
      
      <div class="form-group">
        <label for="goal-duration">Estimated Completion:</label>
        <select id="goal-duration">
          <option value="2 weeks">2 weeks</option>
          <option value="4 weeks">4 weeks</option>
          <option value="6 weeks">6 weeks</option>
          <option value="8 weeks">8 weeks</option>
          <option value="12 weeks">12 weeks</option>
          <option value="16 weeks">16 weeks</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="goal-progress">Current Progress:</label>
        <input type="range" id="goal-progress" min="0" max="100" value="65">
        <span id="progress-value">65%</span>
      </div>
      
      <div class="modal-buttons">
        <button id="save-goal-btn" class="action-btn primary">Save Changes</button>
        <button id="reset-goal-btn" class="action-btn danger">Reset Goal</button>
      </div>
    </div>
  </div>

  <!-- Confirmation Dialog -->
  <div id="confirm-dialog" class="modal">
    <div class="modal-content confirm-content">
      <h3>Are you sure?</h3>
      <p>This will reset your goal and all progress. This action cannot be undone.</p>
      <div class="modal-buttons">
        <button id="confirm-yes" class="action-btn danger">Yes, Reset</button>
        <button id="confirm-no" class="action-btn">Cancel</button>
      </div>
    </div>
  </div>

<script>
  // Goal tracker functionality
  document.addEventListener('DOMContentLoaded', function() {
    // Elements
    const adjustGoalBtn = document.getElementById('adjust-goal-btn');
    const goalModal = document.getElementById('goal-modal');
    const closeModal = document.querySelector('.close-modal');
    const saveGoalBtn = document.getElementById('save-goal-btn');
    const resetGoalBtn = document.getElementById('reset-goal-btn');
    const confirmDialog = document.getElementById('confirm-dialog');
    const confirmYes = document.getElementById('confirm-yes');
    const confirmNo = document.getElementById('confirm-no');
    
    // Input elements
    const goalInput = document.getElementById('goal-description');
    const durationSelect = document.getElementById('goal-duration');
    const progressInput = document.getElementById('goal-progress');
    const progressValue = document.getElementById('progress-value');
    
    // Display elements
    const currentGoalDisplay = document.getElementById('current-goal');
    const progressFill = document.querySelector('.progress-fill');
    const completionTime = document.querySelector('.completion-time');
    
    // Load goal data from localStorage
    function loadGoalData() {
      const goalData = JSON.parse(localStorage.getItem('jordan-goal') || '{"description":"Weight Loss - 10 lbs","duration":"8 weeks","progress":65}');
      
      // Update the display
      currentGoalDisplay.textContent = goalData.description;
      progressFill.style.width = goalData.progress + '%';
      completionTime.textContent = 'Estimated completion: ' + goalData.duration;
      
      // Update modal values
      goalInput.value = goalData.description;
      durationSelect.value = goalData.duration;
      progressInput.value = goalData.progress;
      progressValue.textContent = goalData.progress + '%';
    }
    
    // Save goal data
    function saveGoalData() {
      const goalData = {
        description: goalInput.value,
        duration: durationSelect.value,
        progress: parseInt(progressInput.value)
      };
      
      localStorage.setItem('jordan-goal', JSON.stringify(goalData));
      
      // Update the display
      currentGoalDisplay.textContent = goalData.description;
      progressFill.style.width = goalData.progress + '%';
      completionTime.textContent = 'Estimated completion: ' + goalData.duration;
      
      // Close the modal
      goalModal.style.display = 'none';
    }
    
    // Reset goal function
    function resetGoal() {
      const defaultGoal = {
        description: "New Goal",
        duration: "4 weeks",
        progress: 0
      };
      
      localStorage.setItem('jordan-goal', JSON.stringify(defaultGoal));
      
      // Update the display
      currentGoalDisplay.textContent = defaultGoal.description;
      progressFill.style.width = defaultGoal.progress + '%';
      completionTime.textContent = 'Estimated completion: ' + defaultGoal.duration;
      
      // Update modal values
      goalInput.value = defaultGoal.description;
      durationSelect.value = defaultGoal.duration;
      progressInput.value = defaultGoal.progress;
      progressValue.textContent = defaultGoal.progress + '%';
      
      // Close both modals
      confirmDialog.style.display = 'none';
      goalModal.style.display = 'none';
    }
    
    // Event Listeners
    adjustGoalBtn.addEventListener('click', function() {
      loadGoalData(); // Load the latest data
      goalModal.style.display = 'flex';
    });
    
    closeModal.addEventListener('click', function() {
      goalModal.style.display = 'none';
    });
    
    saveGoalBtn.addEventListener('click', saveGoalData);
    
    resetGoalBtn.addEventListener('click', function() {
      confirmDialog.style.display = 'flex';
    });
    
    confirmYes.addEventListener('click', resetGoal);
    
    confirmNo.addEventListener('click', function() {
      confirmDialog.style.display = 'none';
    });
    
    progressInput.addEventListener('input', function() {
      progressValue.textContent = this.value + '%';
    });
    
    // Close modals when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target === goalModal) {
        goalModal.style.display = 'none';
      }
      if (event.target === confirmDialog) {
        confirmDialog.style.display = 'none';
      }
    });
    
    // Initial load
    loadGoalData();
  });
</script>
</body>
</html>